<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.image.ImageView?>

<AnchorPane prefHeight="700.0" prefWidth="1000.0" style="-fx-background-color: #000000; -fx-padding: 30;"
            xmlns="http://javafx.com/javafx/17.0.1" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="gui.AfficherEquipementsController">

    <VBox alignment="TOP_CENTER" spacing="20" AnchorPane.topAnchor="20" AnchorPane.leftAnchor="20"
          AnchorPane.rightAnchor="20" AnchorPane.bottomAnchor="20">

        <!-- ✅ Titre et Bouton d'ajout alignés proprement -->
        <HBox alignment="CENTER_LEFT" spacing="20">
            <Label text="🛠️ Équipements de la Salle"
                   style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #FF6600;"/>

            <Region HBox.hgrow="ALWAYS" />

            <Button onAction="#ajouterEquipement"
                    text="➕ Ajouter Équipement"
                    style="-fx-background-color: #FF6600; -fx-text-fill: black;
                           -fx-font-size: 16px; -fx-padding: 10 20;
                           -fx-font-weight: bold; -fx-background-radius: 10;
                           -fx-effect: dropshadow(gaussian, rgba(255, 102, 0, 0.5), 10, 0, 4, 4);
                           -fx-cursor: hand;" />
        </HBox>

        <!-- ✅ Date Picker modernisé -->
        <DatePicker fx:id="calendrierGlobal"
                    style="-fx-font-size: 16px; -fx-background-color: #1A1A1A; -fx-text-fill: white; -fx-background-radius: 10;"
                    showWeekNumbers="true" />

        <!-- ✅ Message Aucun équipement disponible -->
        <Label fx:id="noEquipementsLabel"
               style="-fx-font-size: 18px; -fx-text-fill: #FF4444; -fx-font-weight: bold; -fx-alignment: center;"
               text="❌ Aucun équipement disponible"
               visible="false" />

        <!-- ✅ Conteneur des cartes -->
        <ScrollPane fitToWidth="true" style="-fx-background: transparent;">
            <content>
                <FlowPane fx:id="cardsContainer" hgap="30" vgap="30" prefWrapLength="900"
                          style="-fx-background-color: #121212; -fx-background-radius: 20; -fx-padding: 20;">

                    <!-- ✅ Modèle de carte d'équipement -->
                    <VBox fx:id="equipementCard" spacing="15"
                          style="-fx-background-color: #1A1A1A; -fx-padding: 20;
                                 -fx-border-color: #FF6600; -fx-border-radius: 15;
                                 -fx-background-radius: 15; -fx-effect: dropshadow(gaussian, rgba(255, 102, 0, 0.5), 12, 0, 4, 4);
                                 -fx-cursor: hand;">

                        <Label fx:id="nomLabel"
                               style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #FF6600;" />

                        <Label fx:id="etatLabel"
                               style="-fx-text-fill: white; -fx-font-size: 14px;" />

                        <Label fx:id="derniereVerifLabel"
                               style="-fx-text-fill: white; -fx-font-size: 14px;" />

                        <Label fx:id="prochaineVerifLabel"
                               style="-fx-text-fill: white; -fx-font-size: 14px;" />

                        <ImageView fx:id="qrCodeImage" fitWidth="100" fitHeight="100"
                                   style="-fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.7), 10, 0, 2, 2);" />
                    </VBox>
                </FlowPane>
            </content>
        </ScrollPane>
    </VBox>
</AnchorPane>
